<div class="bg-wwhite text-wdark w-full h-12 mb-5 flex">
    <div id="sbutton" class="hover:bg-wlight rounded-md w-12 my-auto ml-auto mr-2 inline-flex p-2 cursor-pointer" onclick="sdropdown(false)">
        <p class="inline truncate" title="Settings"><i class="fa-solid fa-gear"></i></p><i class="fa-solid fa-angle-down inline my-auto ml-auto"></i>
        <div id="scontent" class="dropdown-content hidden w-40 h-48 absolute right-44 z-[60] top-12 bg-wwhite text-wdark rounded-b-lg cursor-auto shadow-xl p-2" onclick="event.stopPropagation();">
            <p>settings blah blah</p>
            <div class="form-check form-switch">
                <input class="form-check-input appearance-none w-9 -ml-10 rounded-full float-left h-5 align-top bg-white bg-no-repeat bg-contain bg-gray-300 focus:outline-none cursor-pointer shadow-sm" type="checkbox" role="switch" id="switch1">
                <label class="form-check-label inline-block text-gray-800" for="switch1">Something something switch</label>
              </div>
            <button class="button-dark button-blue">buton!</button>
        </div>
    </div>
    <div id="ubutton" class="hover:bg-wlight rounded-md w-40 my-auto mr-2 inline-flex p-2 cursor-pointer" onclick="udropdown(false)">
        <p class="inline truncate" title="<%=user.username%>"><%=user.username%></p><i class="fa-solid fa-angle-down inline my-auto ml-auto"></i>
        <div id="ucontent" class="dropdown-content hidden w-40 h-48 absolute right-2 z-[60] top-12 bg-wwhite text-wdark rounded-b-lg cursor-auto shadow-xl p-2" onclick="event.stopPropagation();">
            <p>asd</p><br>
            <p>fgh</p>
        </div>
    </div>
</div>
<script>
    let udropdownState = false;
    let sdropdownState = false;
    function udropdown(forceClose) {
        udropdownState = !udropdownState;
        if (forceClose) udropdownState = false;
        if (!forceClose) sdropdown(true);
        if (udropdownState) {
            document.querySelector("#ucontent").classList.remove("hidden");
            document.querySelector("#ubutton").classList.add("bg-wlight");
        } else {
            document.querySelector("#ucontent").classList.add("hidden");
            document.querySelector("#ubutton").classList.remove("bg-wlight");
        }
    }
    function sdropdown(forceClose) {
        sdropdownState = !sdropdownState;
        if (forceClose) sdropdownState = false;
        if (!forceClose) udropdown(true);
        if (sdropdownState) {
            document.querySelector("#scontent").classList.remove("hidden");
            document.querySelector("#sbutton").classList.add("bg-wlight");
        } else {
            document.querySelector("#scontent").classList.add("hidden");
            document.querySelector("#sbutton").classList.remove("bg-wlight");
        }
    }
</script>